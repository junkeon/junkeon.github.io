(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},s={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),s=a("7496"),r=a("40dc"),n=a("8336"),o=a("b0af"),l=a("99d9"),c=a("62ad"),h=a("169a"),d=a("23a7"),u=a("132d"),p=a("f6c4"),f=a("490a"),g=a("0fd9"),m=a("2fa4"),v=a("8654"),w=a("2a7f"),b=function(){var t=this,e=t._self._c;return e(s["a"],[e(r["a"],{attrs:{app:"",color:"primary",dark:""}},[e(n["a"],{attrs:{icon:""},on:{click:function(e){t.dialogVisible=!0}}},[e(u["a"],[t._v("mdi-key")])],1),e(m["a"]),e(w["a"],[e("div",{staticClass:"font-weight-bold text-h5"},[t._v("AIStationReader")])]),e(m["a"]),e(n["a"],{attrs:{icon:""},on:{click:t.redirectToStation}},[e(u["a"],[t._v("mdi-gas-station")])],1)],1),e(h["a"],{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(){return[e(n["a"],{attrs:{color:"primary"},on:{click:t.openDialog}},[t._v("Open Dialog")])]},proxy:!0}]),model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[e(o["a"],{staticClass:"pa-5"},[e(l["c"],{staticClass:"headline"},[t._v("Enter API key")]),e(l["b"],[e(v["a"],{attrs:{label:"Text Input"},model:{value:t.textInput,callback:function(e){t.textInput=e},expression:"textInput"}})],1),e(l["a"],[e(m["a"]),e(n["a"],{attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v("Cancel")]),e(n["a"],{attrs:{color:"primary"},on:{click:t.submitText}},[t._v("Submit")])],1)],1)],1),e(p["a"],[e(o["a"],{staticClass:"d-flex justify-center",attrs:{flat:"",width:"100vw"}},[e(o["a"],{attrs:{flat:"","max-width":"2000px",width:"95vw"}},[e(g["a"],{staticClass:"pa-5"},[e(c["a"],{attrs:{cols:"6"}},[e(o["a"],{staticClass:"ma-0 pa-0",attrs:{flat:"",height:"calc(90vh - 100px)"}},[e(g["a"],[e(c["a"],[e("h3",{staticClass:"mt-5 pl-4 pb-6"},[t._v("OCR 결과 (이미지)")])])],1),e("box-result",{attrs:{img_src:t.img_src,items:t.items,alpha_w:t.alpha_w,alpha_h:t.alpha_h,width:t.imgWidth,height:t.imgHeight,loaded:t.loaded,start:t.start}})],1)],1),e(c["a"],{attrs:{cols:"6"}},[e(o["a"],{staticClass:"d-flex flex-column justify-space-between",attrs:{flat:""}},[e(g["a"],[e(c["a"],[e("h3",{staticClass:"mt-5 pl-4 pb-2"},[t._v("이미지 파일")]),e(d["a"],{ref:"image",staticClass:"px-5",attrs:{accept:"image/*, .pdf",label:"이미지 선택",outlined:"",dense:""},on:{change:t.onFileChange},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),e("h3",{staticClass:"mt-5 pl-4 pb-2"},[t._v("OCR 결과 (JSON)")]),e(o["a"],{staticClass:"overflow-y-auto",attrs:{flat:"",height:"calc(90vh - 350px)"}},[e(l["b"],[t.loaded?e("div",{staticClass:"scrollable-content pl-4"},[e("tree-view",{attrs:{data:t.ocr_result,options:{maxDepth:5}}})],1):e("div",{staticClass:"text-center",staticStyle:{height:"50vh",display:"flex","justify-content":"center","align-items":"center"}},[this.start?t._e():e(f["a"],{attrs:{indeterminate:"",color:"primary",size:50,width:5}})],1)])],1),e(n["a"],{staticClass:"mt-7",attrs:{"align-center":"",width:"100%",outlined:"",color:"indigo"},on:{click:t.download}},[t._v("DOWNLOAD")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},_=[],y=function(){var t=this,e=t._self._c;return e(o["a"],{attrs:{flat:"",width:"100%",height:"100%"}},[t.loaded?e("svg",{attrs:{width:"100%",height:"95%",viewBox:t.viewBox}},[e("image",{attrs:{href:t.img_src,width:"100%",height:"100%"}}),t._l(t.items,(function(a,i){return e("polygon",{directives:[{name:"tippy",rawName:"v-tippy",value:{animation:"fade",arrow:!0,size:"large"},expression:"{\n        animation: 'fade',\n        arrow: true,\n        size: 'large',\n      }"}],key:"bbox "+i,attrs:{stroke:"#009E73FF",points:t.set_poly(a.boundingBox),fill:"transparent",content:null!=a.confidence?`${a.text} (${a.confidence.toFixed(3)})`:""+a.text}})}))],2):e("div",{staticClass:"text-center",staticStyle:{height:"95%",display:"flex","justify-content":"center","align-items":"center"}},[this.start?t._e():e(f["a"],{attrs:{indeterminate:"",color:"primary",size:100,width:10}})],1)])},x=[],C=a("6018");i["a"].use(C["a"]);var k={props:{img_src:String,items:Array,alpha_w:Number,alpha_h:Number,width:Number,height:Number,loaded:Boolean,start:Boolean},computed:{viewBox(){return"0 0 "+this.alpha_w+" "+this.alpha_h}},methods:{set_poly(t){var e="";for(var a of t.vertices)e+=this.transX(a.x)+","+this.transY(a.y)+" ";return e},transX(t){return this.alpha_w*t/this.width},transY(t){return this.alpha_h*t/this.height}}},O=k,j=a("2877"),S=Object(j["a"])(O,y,x,!1,null,null,null),A=S.exports,D=a("cee4"),I=a("558c"),P=a.n(I);i["a"].use(P.a);var B={components:{BoxResult:A},data(){return{dialogVisible:!0,img_src:null,imgWidth:null,imgHeight:null,alpha_w:null,alpha_h:null,ratio:500,loaded:!1,start:!0,file:"",items:[],api_key:"CLatws2sUEYEzAYHg7QMs3ZAQ5djoXlY",url:"/v1/document-ai/ocr"}},methods:{async onFileChange(){this.loaded=!1,this.start=!1;const t=this.file,e=new FileReader;e.onload=t=>{this.img_src=t.target.result;let e=new Image;e.src=t.target.result,e.onload=()=>{this.imgWidth=e.width,this.imgHeight=e.height,this.alpha_w=this.imgWidth/Math.max(this.imgWidth,this.imgHeight)*this.ratio,this.alpha_h=this.imgHeight/Math.max(this.imgWidth,this.imgHeight)*this.ratio}};var a=new FormData;""!=this.file&&a.append("image",this.file);const i={Authorization:"Bearer "+this.api_key};try{D["a"].defaults.withCredentials=!0;const s=await D["a"].post(this.url,a,{headers:i});e.readAsDataURL(t),this.ocr_result=s.data,this.items=this.ocr_result.pages[0].words}catch(s){window.alert("Sorry... Something is wrong.\nPlease check your API key again."),this.dialogVisible=!0}this.loaded=!0},download(){if(this.loaded&&confirm("결과를 저장하시겠습니까?")){var t=JSON.stringify(this.ocr_result,null,"  ");const e="OCR_result.json",a=document.createElement("a");a.setAttribute("href","data:text/json;charset=utf-8, "+encodeURIComponent(t)),a.setAttribute("download",e),document.body.appendChild(a),a.click()}},openDialog(){this.dialogVisible=!0},closeDialog(){this.dialogVisible=!1,this.textInput=""},submitText(){this.api_key=this.textInput,this.closeDialog()},redirectToStation(){window.open("https://console.upstage.ai/","_blank")}}},N=B,R=(a("5e73"),Object(j["a"])(N,b,_,!1,null,"41c56e9a",null)),T=R.exports,V=a("f309");i["a"].use(V["a"]);var F=new V["a"]({});i["a"].config.productionTip=!1,new i["a"]({vuetify:F,render:t=>t(T)}).$mount("#app")},"5e73":function(t,e,a){"use strict";a("d957")},d957:function(t,e,a){}});
//# sourceMappingURL=app.3fd449af.js.map